<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OldMoneyInvestor - Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { --primary: #483C32; }
        body { background:#f9f9f9; color:#1f2937; }
        .glass { background:rgba(255,255,255,0.8); backdrop-filter:blur(10px); }
        .card { transition:all .4s; border:1px solid rgba(0,0,0,.08); min-width:260px; max-width:280px; flex-shrink:0; display:flex; flex-direction:column; justify-content:space-between; }
        .card:hover { border-color:var(--primary); box-shadow:0 0 25px rgba(72,60,50,.2); transform:translateY(-4px); }
        .overlay { position:absolute; inset:0; background:rgba(0,0,0,.05); opacity:0; transition:opacity .5s; }
        .card:hover .overlay { opacity:0.1; }
        .badge { position:absolute; top:10px; left:10px; background:var(--primary); color:#fff; font-size:.7rem; padding:2px 6px; border-radius:4px; }
        .image-scroll { display:flex; overflow:hidden; scroll-snap-type:x mandatory; }
        .image-scroll img { flex:0 0 100%; height:12rem; object-fit:cover; border-radius:.75rem; scroll-snap-align:start; transition:transform .4s; }
        .card:hover .image-scroll img { transform:scale(1.02); }
        .scroll-container { display:flex; gap:1rem; overflow-x:auto; scroll-behavior:smooth; }
        .arrow-btn { position:absolute; top:50%; transform:translateY(-50%); background:rgba(0,0,0,.1); color:#1f2937; border:none; border-radius:9999px; padding:.5rem .75rem; cursor:pointer; z-index:10; }
        .arrow-btn:hover { background:rgba(72,60,50,.2); }
        .carousel-wrapper { perspective: 1200px; overflow: hidden; position: relative; }
.carousel { position: relative; height: 100%; width: 100%; transform-style: preserve-3d; transition: transform 0.8s ease; }
.carousel .card { position: absolute; top: 50%; left: 50%; width: 260px; height: 360px; transform-origin: center center; opacity: 0; transition: transform 0.6s ease, opacity 0.6s ease; }
.carousel .card img { width: 100%; height: 100%; object-fit: cover; border-radius: 1rem; }
.arrow { position: absolute; top: 50%; transform: translateY(-50%); font-size: 2rem; background: rgba(255,255,255,0.9);
  border-radius: 50%; width: 45px; height: 45px; display: flex; justify-content: center; align-items: center; cursor: pointer; z-index: 10;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}
.arrow.left { left: 10px; }
.arrow.right { right: 10px; }

/* Responsive */
@media(max-width:1024px){ .carousel .card{width:220px;height:320px;} }
@media(max-width:768px){ .carousel .card{width:200px;height:300px;} }
@media(max-width:480px){ .carousel .card{width:85%;height:320px;} }
   #mobileMenu { overflow: hidden; max-height: 0; transition: max-height 0.3s ease, padding 0.3s ease; }
    </style>
</head>
<body class="font-sans">

<!-- NAVBAR -->
<div th:replace="~{fragments/navbar :: navbar}"></div>

<!-- HEADER -->
<header class="relative h-[80vh] flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0 bg-fixed bg-center bg-cover"
         style="background-image:url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c'); filter:brightness(0.8);"></div>
    <div class="absolute inset-0 bg-white/30"></div>
    <div class="relative z-10 text-center max-w-3xl px-6 py-10 glass border border-black/10 rounded-2xl">
        <h1 class="text-5xl font-extrabold mb-4 text-[var(--primary)]">Find Your Dream Home</h1>
        <p class="text-lg text-gray-700 mb-4">Luxury ‚Ä¢ Comfort ‚Ä¢ Elegance</p>
        <form th:action="@{/properties/search}" method="get" class="flex justify-center gap-2">
            <input type="text" name="location" placeholder="Search by location"
                   class="px-4 py-2 rounded-l-lg border border-gray-300 w-64">
            <button class="px-6 py-2 bg-[var(--primary)] text-white rounded-r-lg font-semibold">Search</button>
        </form>
        <a th:href="@{/properties}"
           class="mt-6 inline-block px-8 py-4 text-lg font-bold rounded-full bg-[var(--primary)] text-white shadow-lg hover:scale-105 transition">
            ‚ú® Explore Properties
        </a>
    </div>
</header>

<!-- PROPERTIES CAROUSEL SECTION -->
<section class="py-16 relative" th:if="${latestProperties}">
    <div class="max-w-7xl mx-auto px-6 relative">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-gray-800">Latest Properties</h2>
            <a th:href="@{/properties}" class="text-[var(--primary)] hover:underline text-sm">See All</a>
        </div>

        <!-- Carousel Wrapper -->
        <div class="carousel-wrapper relative h-[420px] md:h-[400px] sm:h-[360px]">
            <div class="carousel">
                <article class="card glass p-4 rounded-2xl" th:each="p : ${latestProperties}">
                    <div class="relative rounded-xl overflow-hidden">
                        <img th:src="@{${p.imageList[0]}}" alt="Property"
                             class="w-full h-60 md:h-52 sm:h-44 object-cover rounded-xl">
                        <div class="badge absolute top-3 left-3 bg-[var(--primary)] text-white px-2 py-1 text-xs rounded">
                            Latest
                        </div>
                    </div>
                    <div class="mt-4 flex flex-col flex-grow">
                        <h3 class="text-lg font-bold line-clamp-1 text-gray-800" th:text="${p.title}"></h3>
                        <p class="text-sm text-gray-600" th:text="${p.location}"></p>
                        <div class="mt-3 text-sm text-gray-600 flex flex-wrap gap-3">
                            <span>üõèÔ∏è <span th:text="${p.bedrooms}"></span></span>
                            <span>üõÅ <span th:text="${p.bathrooms}"></span></span>
                            <span>üìê <span th:text="${p.carpetArea+' sq.ft.'}"></span></span>
                            <span>üí∞ <span th:text="'‚Çπ'+${p.price}"></span></span>
                        </div>
                        <a th:href="@{'/properties/details/' + ${p.id}}"
                           class="mt-3 block text-center bg-[var(--primary)] hover:bg-[#6b5d4b] text-white py-2 rounded-lg font-semibold">
                            More Details
                        </a>
                    </div>
                </article>
            </div>

            <!-- Arrows -->
            <div class="arrow left">&#10094;</div>
            <div class="arrow right">&#10095;</div>
        </div>
    </div>
</section>


<!-- WHY OLDMONEYINVESTOR -->
<
<section class="py-20 bg-[#483C32] text-white">
    <div class="max-w-7xl mx-auto px-6 text-center">
        <!-- Section Header -->
        <h2 class="text-4xl font-extrabold mb-4">Why Choose OldMoneyInvestor?</h2>
        <p class="max-w-3xl mx-auto mb-12 text-lg text-gray-200">
            At OldMoneyInvestor, we combine trust, transparency, and expert insights to help you invest in the right
            properties.
            Our team ensures every property meets the highest standards of quality and profitability.
        </p>

        <!-- Feature Cards -->
        <div class="grid md:grid-cols-3 gap-8">
            <!-- Card 1: Trusted Advisors -->
            <div class="bg-[#5a4c3f] hover:bg-[#6b5d4b] shadow-lg rounded-2xl p-8 transition-all duration-300">
                <div class="flex items-center justify-center mb-4 w-16 h-16 mx-auto rounded-full bg-white/10">
                    <!-- Icon: User/Advisor -->
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold mb-3">Trusted Advisors</h3>
                <p class="text-gray-200 text-base">
                    Our advisors guide you through every investment decision with expert knowledge.
                </p>
            </div>

            <!-- Card 2: High ROI Properties -->
            <div class="bg-[#5a4c3f] hover:bg-[#6b5d4b] shadow-lg rounded-2xl p-8 transition-all duration-300">
                <div class="flex items-center justify-center mb-4 w-16 h-16 mx-auto rounded-full bg-white/10">
                    <!-- Icon: Graph/ROI -->
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M3 17h18v2H3v-2zm0-4h12v2H3v-2zm0-4h6v2H3V9zm0-4h4v2H3V5z"/>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold mb-3">High ROI Properties</h3>
                <p class="text-gray-200 text-base">
                    We focus on properties that maximize returns and long-term value.
                </p>
            </div>

            <!-- Card 3: Customer Satisfaction -->
            <div class="bg-[#5a4c3f] hover:bg-[#6b5d4b] shadow-lg rounded-2xl p-8 transition-all duration-300">
                <div class="flex items-center justify-center mb-4 w-16 h-16 mx-auto rounded-full bg-white/10">
                    <!-- Icon: Star/Customer Satisfaction -->
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold mb-3">Customer Satisfaction</h3>
                <p class="text-gray-200 text-base">
                    Our clients' success and happiness are the measure of our achievements.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- LUXURY PROPERTIES -->
<section class="py-16 relative" th:if="${luxuryProperties}">
    <div class="max-w-7xl mx-auto px-6 relative">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-gray-800">Luxury Properties</h2>
            <a th:href="@{/properties}" class="text-[var(--primary)] hover:underline text-sm">See All</a>
        </div>

        <div class="carousel-wrapper relative h-[420px] md:h-[400px] sm:h-[360px]">
            <div class="carousel">
                <article class="card glass p-4 rounded-2xl" th:each="p : ${luxuryProperties}">
                    <div class="relative rounded-xl overflow-hidden">
                        <img th:src="@{${p.imageList[0]}}" alt="Property"
                             class="w-full h-60 md:h-52 sm:h-44 object-cover rounded-xl">
                        <div class="badge absolute top-3 left-3 bg-[var(--primary)] text-white px-2 py-1 text-xs rounded">
                            Luxury
                        </div>
                    </div>
                    <div class="mt-4 flex flex-col flex-grow">
                        <h3 class="text-lg font-bold line-clamp-1 text-gray-800" th:text="${p.title}"></h3>
                        <p class="text-sm text-gray-600" th:text="${p.location}"></p>
                        <div class="mt-3 text-sm text-gray-600 flex flex-wrap gap-3">
                            <span>üõèÔ∏è <span th:text="${p.bedrooms}"></span></span>
                            <span>üõÅ <span th:text="${p.bathrooms}"></span></span>
                            <span>üìê <span th:text="${p.carpetArea+' sq.ft.'}"></span></span>
                            <span>üí∞ <span th:text="'‚Çπ'+${p.price}"></span></span>
                        </div>
                        <a th:href="@{'/properties/details/' + ${p.id}}"
                           class="mt-3 block text-center bg-[var(--primary)] hover:bg-[#6b5d4b] text-white py-2 rounded-lg font-semibold">
                            More Details
                        </a>
                    </div>
                </article>
            </div>
            <div class="arrow left">&#10094;</div>
            <div class="arrow right">&#10095;</div>
        </div>
    </div>
</section>

<!-- DEVELOPERS -->
<section class="py-16 bg-[#483C32]">
    <div class="max-w-7xl mx-auto px-6 text-center">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-12">Our Partners</h2>

        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-6 items-center">

            <!-- Logo 1 -->
            <div class="flex items-center justify-center">
                <img src="https://dummyimage.com/200x100/ffffff/000000.png&text=Logo+1"
                     alt="Partner 1" class="max-h-16 object-contain bg-white rounded-lg shadow-md p-2">
            </div>

            <!-- Logo 2 -->
            <div class="flex items-center justify-center">
                <img src="https://dummyimage.com/200x100/ffffff/000000.png&text=Logo+2"
                     alt="Partner 2" class="max-h-16 object-contain bg-white rounded-lg shadow-md p-2">
            </div>

            <!-- Logo 3 -->
            <div class="flex items-center justify-center">
                <img src="https://dummyimage.com/200x100/ffffff/000000.png&text=Logo+3"
                     alt="Partner 3" class="max-h-16 object-contain bg-white rounded-lg shadow-md p-2">
            </div>

            <!-- Logo 4 -->
            <div class="flex items-center justify-center">
                <img src="https://dummyimage.com/200x100/ffffff/000000.png&text=Logo+4"
                     alt="Partner 4" class="max-h-16 object-contain bg-white rounded-lg shadow-md p-2">
            </div>

            <!-- Logo 5 -->
            <div class="flex items-center justify-center">
                <img src="https://dummyimage.com/200x100/ffffff/000000.png&text=Logo+5"
                     alt="Partner 5" class="max-h-16 object-contain bg-white rounded-lg shadow-md p-2">
            </div>

        </div>
    </div>
</section>


<!-- PROJECTS SECTION -->
<section class="py-16 bg-gray-100">
    <div class="max-w-7xl mx-auto px-6">
        <!-- Section Heading -->
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-extrabold text-[#483C32]">Our Projects</h2>
            <p class="text-gray-600 mt-2">Discover our latest real estate developments</p>
        </div>

        <!-- Project Cards Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10">
            <div th:each="project : ${projects}"
                 class="rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition duration-300 bg-[#483C32] text-white flex flex-col">

                <!-- Project Image -->
                <div class="h-56 w-full overflow-hidden relative">
                    <img th:if="${!#lists.isEmpty(project.images)}"
                         th:src="${project.images[0]}"
                         alt="Project Image"
                         class="w-full h-full object-cover transform hover:scale-105 transition duration-500">
                    <div th:if="${#lists.isEmpty(project.images)}"
                         class="w-full h-full bg-gray-600 flex items-center justify-center">
                        <span class="text-gray-300">No Image</span>
                    </div>
                    <!-- Badge -->
<!--                    <span class="absolute top-3 left-3 bg-white text-[#483C32] text-xs font-semibold px-3 py-1 rounded-full shadow">-->
<!--                    <span th:text="${project.status}">New Launch</span>-->
<!--                </span>-->
                </div>

                <!-- Project Info -->
                <div class="p-6 flex flex-col flex-grow">
                    <h2 class="text-2xl font-bold mb-2" th:text="${project.name}">Project Name</h2>
                    <p class="mb-1" th:text="'Location: ' + ${project.location}">Location</p>
                    <p class="mb-1" th:text="'Developer: ' + ${project.developerName}">Developer</p>
                    <p class="mb-1" th:text="'Price Range: ' + ${project.priceRange}">Price Range</p>
                    <!--                    <p class="mb-4 text-sm"-->
                    <!--                       th:text="'Launch: ' + ${#temporals.format(project.launchDate, 'dd MMM yyyy')}-->
                    <!--                       + ' | Completion: ' + ${#temporals.format(project.completionDate, 'dd MMM yyyy')}">-->
                    <!--                        Dates-->
                    <!--                    </p>-->
                    <!-- Button -->
                    <a th:href="@{'/projects/details/' + ${project.id}}"
                       class="mt-auto block text-center bg-white text-[#483C32] hover:bg-gray-200 px-5 py-3 rounded-lg font-semibold transition">
                        View Details
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- BLOGS -->
<section class="py-16 bg-[#483C32]">
    <div class="max-w-7xl mx-auto px-6">
        <!-- Section Header -->
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-3xl md:text-4xl font-bold text-white">Latest Blogs</h2>
            <a th:href="@{/blogs}" class="text-white hover:underline text-sm md:text-base">See All</a>
        </div>

        <!-- Blog Cards Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <article class="bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col"
                     th:each="b, stat : ${latestBlogs}"
                     th:if="${stat.index < 3}">
                <!-- Blog Image -->
                <div class="relative h-60 md:h-72">
                    <img th:each="img : ${b.imageList}" th:src="@{${img}}"
                         class="w-full h-full object-cover"/>
                    <div class="absolute top-2 left-2 bg-[#483C32] text-white px-3 py-1 text-xs rounded">Blog</div>
                </div>

                <!-- Blog Content -->
                <div class="p-6 flex flex-col flex-grow">
                    <h3 class="text-xl font-bold text-gray-900 mb-2 line-clamp-1" th:text="${b.title}"></h3>
                    <p class="text-gray-700 text-sm mb-4 line-clamp-3 flex-grow" th:text="${b.content}"></p>
                    <a th:href="@{'/blogs/details/' + ${b.id}}"
                       class="mt-auto block text-center bg-[#483C32] hover:bg-[#6b5d4b] text-white py-3 rounded-lg font-semibold">
                        Read More
                    </a>
                </div>
            </article>
        </div>
    </div>
</section>


<!-- CONTACT -->
<section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-6 text-center">
        <h2 class="text-3xl font-bold text-[var(--primary)] mb-4">Contact Us</h2>
        <p class="text-gray-700 mb-6">
            Have questions about our properties, investment opportunities, or need guidance on buying your dream home?
            Our team at OldMoneyInvestor is ready to assist you with personalized advice and professional support.
        </p>
        <p class="text-gray-600 mb-6">
            Call us directly at <span class="font-semibold text-gray-800">+91 1234567890</span> or email at
            <span class="font-semibold text-gray-800">support@oldmoneyinvestor.com</span>.<br>
            Alternatively, click the button below to reach our contact page and send us a message.
        </p>
        <a th:href="@{/contact}"
           class="px-6 py-3 bg-[var(--primary)] text-white rounded-lg hover:bg-[#6b5d4b] transition">
            Contact Page
        </a>
    </div>
</section>

<!-- FOOTER -->
<div th:replace="~{fragments/footer :: footer}"></div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
       const toggleButton = document.getElementById("mobileToggle");
       const mobileMenu = document.getElementById("mobileMenu");
       if(toggleButton && mobileMenu){
           toggleButton.addEventListener("click", () => {
               if(mobileMenu.style.maxHeight && mobileMenu.style.maxHeight !== "0px"){
                   mobileMenu.style.maxHeight = "0px";
                   mobileMenu.style.paddingTop = "0px";
                   mobileMenu.style.paddingBottom = "0px";
               } else {
                   mobileMenu.style.maxHeight = mobileMenu.scrollHeight + "px";
                   mobileMenu.style.paddingTop = "0.5rem";
                   mobileMenu.style.paddingBottom = "0.5rem";
               }
           });
           window.addEventListener("resize", () => {
               if(window.innerWidth >= 768){
                   mobileMenu.style.maxHeight = null;
                   mobileMenu.style.paddingTop = null;
                   mobileMenu.style.paddingBottom = null;
               }
           });
       }

       const observer = new IntersectionObserver((entries) => {
           entries.forEach(entry => {
               if(entry.isIntersecting) entry.target.classList.add('show');
           });
       }, {threshold:0.15});
       document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

       document.querySelectorAll('.bg-[#f7f5f0] .cursor-pointer').forEach(faq => {
           faq.addEventListener('click', () => {
               const answer = faq.querySelector('p');
               answer.classList.toggle('hidden');
           });
       });
   });

   // Auto-scroll for card images
   document.querySelectorAll("[data-autoscroll]").forEach(scrollContainer => {
     let index = 0;
     const images = scrollContainer.querySelectorAll("img");
     if(images.length<=1) return;
     setInterval(()=>{
       index=(index+1)%images.length;
       scrollContainer.scrollTo({left:scrollContainer.clientWidth*index, behavior:"smooth"});
     },3000);
   });

   // Auto-scroll for sections
   document.querySelectorAll("[data-section-scroll]").forEach(section=>{
     let scrollAmount=0;
     const step=300;
     setInterval(()=>{
       if(scrollAmount + section.clientWidth >= section.scrollWidth){
         scrollAmount=0;
       } else scrollAmount+=step;
       section.scrollTo({left:scrollAmount, behavior:"smooth"});
     },4000);
   });

   // Arrow buttons
   document.querySelectorAll("[data-scroll-left]").forEach(btn=>{
     btn.addEventListener("click",()=>{
       const section=btn.closest("section").querySelector("[data-section-scroll]");
       section.scrollBy({left:-300, behavior:"smooth"});
     });
   });
   document.querySelectorAll("[data-scroll-right]").forEach(btn=>{
     btn.addEventListener("click",()=>{
       const section=btn.closest("section").querySelector("[data-section-scroll]");
       section.scrollBy({left:300, behavior:"smooth"});
     });
   });

   // Show More Projects
   function showMoreProjects(){
       const container=document.getElementById('projectContainer');
       for(let i=1;i<=3;i++){
           const div=document.createElement('div');
           div.className='card glass p-6 rounded-2xl w-60';
           div.innerHTML=`<h3 class="text-lg font-bold text-gray-800 mb-2">Project</h3>
           <p class="text-gray-600 text-sm">Additional project description</p>`;
           container.appendChild(div);
       }
   }

   // Testimonial scroll
   let testimonialIndex = 0;
   function scrollTestimonials(){
       const container = document.getElementById('testimonialContainer');
       const total = container.children.length;
       testimonialIndex = (testimonialIndex - 1 + total) % total;
       container.style.transform = `translateY(-${testimonialIndex * 160}px)`;
   }
   setInterval(()=>{
       const container = document.getElementById('testimonialContainer');
       const total = container.children.length;
       testimonialIndex = (testimonialIndex + 1) % total;
       container.style.transform = `translateY(-${testimonialIndex * 160}px)`;
   },4000);

    document.querySelectorAll('.carousel-wrapper').forEach(wrapper=>{
  const cards = wrapper.querySelectorAll('.card');
  const leftBtn = wrapper.querySelector('.arrow.left');
  const rightBtn = wrapper.querySelector('.arrow.right');
  const total = cards.length;
  let currentIndex = 0;

  function placeCards(){
    const width = window.innerWidth;
    const offsetX = width < 480 ? 220 : 280;
    const offsetFar = offsetX*2;

    cards.forEach((card,i)=>{
      const offset=(i-currentIndex+total)%total;
      let transform='', opacity=0, z=0;

      if(offset===0){ transform=`translateX(-50%) translateY(-50%) scale(1.2)`; opacity=1; z=3; }
      else if(offset===1){ transform=`translateX(calc(-50% + ${offsetX}px)) translateY(-50%) scale(0.95) rotateY(-12deg)`; opacity=0.9; z=2; }
      else if(offset===total-1){ transform=`translateX(calc(-50% - ${offsetX}px)) translateY(-50%) scale(0.95) rotateY(12deg)`; opacity=0.9; z=2; }
      else if(offset===2){ transform=`translateX(calc(-50% + ${offsetFar}px)) translateY(-50%) scale(0.85) rotateY(-20deg)`; opacity=0.5; z=1; }
      else if(offset===total-2){ transform=`translateX(calc(-50% - ${offsetFar}px)) translateY(-50%) scale(0.85) rotateY(20deg)`; opacity=0.5; z=1; }
      else{ transform='translateX(-50%) translateY(-50%) scale(0.7)'; opacity=0; z=0; }

      // Mobile override: show only 1 center card
      if(width<480){ transform='translateX(-50%) translateY(-50%) scale(1)'; opacity=offset===0?1:0; z=offset===0?3:1; }

      card.style.transform=transform;
      card.style.opacity=opacity;
      card.style.zIndex=z;
    });
  }

  function moveNext(){ currentIndex=(currentIndex+1)%total; placeCards(); }
  function movePrev(){ currentIndex=(currentIndex-1+total)%total; placeCards(); }

  rightBtn.addEventListener('click', moveNext);
  leftBtn.addEventListener('click', movePrev);

  let auto=setInterval(moveNext,3000);
  wrapper.addEventListener('mouseover',()=>clearInterval(auto));
  wrapper.addEventListener('mouseout',()=>auto=setInterval(moveNext,3000));

  placeCards();
  window.addEventListener('resize', placeCards);
});

</script>

</body>
</html>
