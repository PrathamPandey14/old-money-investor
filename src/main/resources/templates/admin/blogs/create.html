<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Create Blog</title>
    <style>
        :root{
            --bg-1: #000000;
            --bg-2: #222222;
            --accent: #1DCD9F;
            --accent-dark: #169976;
            --glass: rgba(255,255,255,0.04);
            --card-shadow: 0 10px 30px rgba(0,0,0,0.45);
            --radius: 14px;
            --max-width: 980px;
        }

        *{box-sizing:border-box;margin:0;padding:0}
        html,body{height:100%; width:100%; overflow-x:hidden;}
        body{
            font-family: Inter, 'Segoe UI', Tahoma, sans-serif;
            background: linear-gradient(180deg,var(--bg-2),#0b0b0b 60%);
            color:#e6eef0;
            padding:20px;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
        }

        .bg-hero{
            position:fixed; inset:0; z-index:-2; pointer-events:none;
            background:radial-gradient(circle at 10% 10%, rgba(29,205,159,0.06), transparent 6%),
                       radial-gradient(circle at 90% 80%, rgba(22,153,118,0.05), transparent 8%);
        }

        .wrap{max-width:var(--max-width);margin:0 auto;padding-bottom:100px;}

        /* Navbar */
        .nav{
            display:flex;align-items:center;justify-content:space-between;gap:1rem;
            padding:1rem 0; flex-wrap:wrap;
        }
        .brand{
            display:flex;align-items:center;gap:.75rem;text-decoration:none;color:var(--accent);
            font-weight:700;font-size:1.15rem;
        }
        .brand .logo{
            width:36px;height:36px;border-radius:8px;
            background:linear-gradient(135deg,var(--accent),var(--accent-dark));
            display:inline-flex;align-items:center;justify-content:center;color:#001010;font-weight:800;
        }

        /* Card */
        .card{
            margin-top:18px;
            background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
            border-radius:var(--radius);
            padding:28px;
            box-shadow:var(--card-shadow);
            border:1px solid rgba(255,255,255,0.04);
            backdrop-filter: blur(8px);
            transition: transform .45s cubic-bezier(.2,.9,.3,1), box-shadow .3s;
        }
        .card:hover{transform:translateY(-6px);box-shadow:0 20px 40px rgba(0,0,0,0.6);}

        h1{font-size:1.6rem;margin-bottom:10px;color:#f0fff8}
        p.lead{color:rgba(230,238,240,0.7);margin-bottom:20px}

        form .grid{
            display:grid;grid-template-columns:1fr 1fr;gap:16px;
        }
        @media (max-width:1024px){form .grid{grid-template-columns:1fr}}
        @media (max-width:640px){form .grid{grid-template-columns:1fr; gap:12px; padding:0}}

        label{display:block;font-weight:600;color:rgba(230,238,240,0.9);margin-bottom:6px;font-size:.95rem}
        input[type='text'], select, textarea{
            width:100%;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);
            background:transparent;color:inherit;font-size:1rem;outline:none;
            transition:box-shadow .18s,transform .12s;
        }
        input:focus, textarea:focus, select:focus{
            box-shadow:0 8px 30px rgba(29,205,159,0.08);transform:translateY(-2px);border-color:var(--accent)
        }
        textarea{min-height:160px;resize:vertical}

        /* File upload */
        .file-wrap{grid-column:1 / -1;margin-top:12px}
        .file-custom{
            padding:20px;
            border-radius:10px;
            border:2px dashed rgba(255,255,255,0.08);
            text-align:center;
            cursor:pointer;
            transition:border-color .3s, background .3s;
        }
        .file-custom:hover{border-color:var(--accent);background:rgba(29,205,159,0.03);}
        .file-preview{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
        .file-preview img{width:110px;height:72px;object-fit:cover;border-radius:8px;border:1px solid rgba(255,255,255,0.04);transition:transform .18s}
        .file-preview img:hover{transform:scale(1.04)}

        .form-actions{display:flex;gap:12px;align-items:center;margin-top:18px;flex-wrap:wrap}
        .btn{
            background:linear-gradient(90deg,var(--accent),var(--accent-dark));
            color:var(--bg-1);padding:.6rem 1rem;border-radius:10px;border:none;
            font-weight:700;cursor:pointer;
            box-shadow:0 6px 18px rgba(29,205,159,0.14);
            transition:transform .18s ease,box-shadow .18s ease;
        }
        .btn:active{transform:translateY(1px);}
        .back-link{color:rgba(230,238,240,0.8);text-decoration:none;font-weight:600}
        .back-link:hover{text-decoration:underline}

        .reveal{opacity:0;transform:translateY(16px) scale(.995);transition:opacity .6s ease,transform .6s cubic-bezier(.2,.9,.3,1)}
        .reveal.show{opacity:1;transform:none}
    </style>
</head>
<body>
<div class="bg-hero" aria-hidden></div>
<div class="wrap">
    <!-- Navbar -->
    <nav class="nav reveal">
        <a class="brand" th:href="@{/admin}">
            <span class="logo">OMI</span>
            <span>Admin Panel</span>
        </a>
    </nav>

    <!-- Card -->
    <main class="card reveal">
        <h1>Create Blog</h1>
        <p class="lead">Fill in the details and upload images to create your new blog post.</p>

        <form th:action="@{/admin/blogs/create}" th:object="${blogDto}" method="post" enctype="multipart/form-data">
            <div class="grid">
                <div>
                    <label>Title</label>
                    <input type="text" th:field="*{title}" placeholder="Enter blog title" required>
                </div>

                <div>
                    <label>Author</label>
                    <input type="text" th:field="*{author}" placeholder="Author name" required>
                </div>

                <div style="grid-column:1 / -1">
                    <label>Content</label>
                    <textarea th:field="*{content}" rows="8" placeholder="Write your blog content here..." required></textarea>
                </div>

                <div>
                    <label>Blog Type</label>
                    <select th:field="*{blogType}" required>
                        <option value="" disabled>Select Type</option>
                        <option value="How-to-Guides">How-to-Guides</option>
                        <option value="Case Studies">Case Studies</option>
                        <option value="News">News</option>
                        <option value="Market Reports & Insight">Market Reports & Insight</option>
                        <option value="List & Rankings">List & Rankings</option>
                        <option value="Interview & Expert Opinions">Interview & Expert Opinions</option>
                        <option value="FAQs">FAQs</option>
                        <option value="Opinion">Opinion</option>
                    </select>
                </div>

                <div>
                    <label>Blog Category</label>
                    <select th:field="*{blogCategory}" required>
                        <option value="" disabled>Select Category</option>
                        <option value="Buying Guides">Buying Guides</option>
                        <option value="Selling Guides">Selling Guides</option>
                        <option value="Market Trends & News">Market Trends & News</option>
                        <option value="Investment & Finance">Investment & Finance</option>
                        <option value="Property Types">Property Types</option>
                        <option value="Neighborhood & Lifestyle">Neighborhood & Lifestyle</option>
                        <option value="Architecture & Interior Design">Architecture & Interior Design</option>
                        <option value="Legal & Documentation">Legal & Documentation</option>
                        <option value="Sustainability & Green Living">Sustainability & Green Living</option>
                        <option value="Tips & Resources">Tips & Resources</option>
                    </select>
                </div>

                <!-- File Upload -->
                <div class="file-wrap">
                    <label>Upload Images</label>
                    <div class="file-custom">
                        <input type="file" name="files" multiple onchange="previewImages(event,'blogPreview')" style="width:100%; background:transparent; color:inherit; border:none; outline:none;">
                        <p class="muted">Drag & drop or select multiple images</p>
                    </div>
                    <div id="blogPreview" class="file-preview"></div>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn">Save Blog</button>
                <a th:href="@{/admin/blogs}" class="back-link">‚Üê Back to Blogs</a>
            </div>
        </form>
    </main>
</div>

<script>
    // Image preview
    function previewImages(event, previewId){
        const container = document.getElementById(previewId);
        container.innerHTML='';
        Array.from(event.target.files).forEach(file=>{
            if(file && file.type.startsWith("image/")){
                const reader = new FileReader();
                reader.onload = e=>{
                    const img = document.createElement("img");
                    img.src = e.target.result;
                    img.alt = file.name;
                    container.appendChild(img);
                };
                reader.readAsDataURL(file);
            }
        });
    }

    // Reveal animations
    const observer = new IntersectionObserver((entries)=>{
        entries.forEach(ent=>{ if(ent.isIntersecting) ent.target.classList.add('show'); });
    },{threshold:.12});
    document.querySelectorAll('.reveal').forEach(el=>observer.observe(el));
</script>
</body>
</html>
